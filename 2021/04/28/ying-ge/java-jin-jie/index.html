<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"w1394847159.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"osition":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="摘要Java进阶总结">
<meta property="og:type" content="article">
<meta property="og:title" content="java进阶总结">
<meta property="og:url" content="https://w1394847159.github.io/2021/04/28/ying-ge/java-jin-jie/index.html">
<meta property="og:site_name" content="吴凡的博客">
<meta property="og:description" content="摘要Java进阶总结">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210508111329.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210508093621.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210508092040.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210510104341.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210511141033.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210513093509.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210513110332.webp">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210513150805.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210514093305.png">
<meta property="og:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210514144400.png">
<meta property="article:published_time" content="2021-04-28T08:13:58.000Z">
<meta property="article:modified_time" content="2021-08-05T03:05:36.000Z">
<meta property="article:author" content="吴凡">
<meta property="article:tag" content="java">
<meta property="article:tag" content="java进阶">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210508111329.png">

<link rel="canonical" href="https://w1394847159.github.io/2021/04/28/ying-ge/java-jin-jie/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>java进阶总结 | 吴凡的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">吴凡的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">每一次进步都值得记录</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-book fa-fw"></i>资源</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://w1394847159.github.io/2021/04/28/ying-ge/java-jin-jie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typora/202108/20210802114612.png">
      <meta itemprop="name" content="吴凡">
      <meta itemprop="description" content="不要在二十岁的时候就去享受八十岁的安逸">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴凡的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          java进阶总结
        </h1>

        <div class="post-meta">

        <!--设置置顶-->
        
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-04-28 16:13:58" itemprop="dateCreated datePublished" datetime="2021-04-28T16:13:58+08:00">2021-04-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-05 11:05:36" itemprop="dateModified" datetime="2021-08-05T11:05:36+08:00">2021-08-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>Java进阶总结</p>
<span id="more"></span>

<h1 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h1><ul>
<li>I: Input</li>
<li>O:Output</li>
<li>通过IO可以完成硬盘文件的读和写</li>
<li>往内存中去，即从硬盘中将数据存入内存，叫输入<code>Input</code>,或者叫做读<code>Read</code></li>
<li>从内存中出来，即将内存中的数据存储到硬盘中，叫输出<code>Output</code>或者叫做写<code>Write</code></li>
</ul>
<h2 id="流的分类"><a href="#流的分类" class="headerlink" title="流的分类"></a>流的分类</h2><ul>
<li>按照__字节的方式__读取数据，一次读取1个字节byte,等同于一次读取8个二进制位，每读取的一个字符实际上是该字符所对应的ascll值，字节流可以读取任意文件。<ul>
<li>可以读取任何文件</li>
</ul>
</li>
<li>按照__字符的方式__读取数据，一次读取一个字符，一个英文字符占用1个字节，一个中文字符占用2个字节.<ul>
<li>字符流方便读取普通文本文件存在。</li>
</ul>
</li>
</ul>
<ul>
<li>任何流在使用完毕之后，都需要调用 <code>close()</code>方法进行关闭</li>
<li><strong>输出流</strong>每次写入数据到硬盘中时都需要使用 <code>flush()</code>方法进行刷新，否则可能导致数据存入失败</li>
</ul>
<h3 id="流的抽象类"><a href="#流的抽象类" class="headerlink" title="流的抽象类"></a>流的抽象类</h3><table>
<thead>
<tr>
<th align="center">流</th>
<th>名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">java.io.InputStream</td>
<td>字节输入流</td>
<td>读取任何文件</td>
</tr>
<tr>
<td align="center">java.io.OutputStream</td>
<td>字节输出流</td>
<td></td>
</tr>
<tr>
<td align="center"></td>
<td></td>
<td></td>
</tr>
<tr>
<td align="center">java.io.Reader</td>
<td>字符输入流</td>
<td>读取文本文件</td>
</tr>
<tr>
<td align="center">java.io.Writer</td>
<td>字符输出流</td>
<td></td>
</tr>
</tbody></table>
<p><strong>只要后缀是Stream结尾的就是字节流，后缀是Reader,Writer结尾的就为字符流</strong></p>
<h3 id="文件专属流"><a href="#文件专属流" class="headerlink" title="文件专属流"></a>文件专属流</h3><table>
<thead>
<tr>
<th align="center">流名称</th>
</tr>
</thead>
<tbody><tr>
<td align="center">java.io.FileInputStream （掌握）</td>
</tr>
<tr>
<td align="center">java.io.FileOutputStream</td>
</tr>
<tr>
<td align="center">java.io.FileReader （掌握）</td>
</tr>
<tr>
<td align="center">java.io.FileWriter</td>
</tr>
</tbody></table>
<h3 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h3><table>
<thead>
<tr>
<th align="center">流接口</th>
</tr>
</thead>
<tbody><tr>
<td align="center">java.io.BufferedReader</td>
</tr>
<tr>
<td align="center">java.io.BufferWriter</td>
</tr>
<tr>
<td align="center">java.io.BufferInputStream</td>
</tr>
<tr>
<td align="center">java.io.BufferOutputStream</td>
</tr>
</tbody></table>
<ul>
<li>缓冲流会将字节先写到一个缓冲区中，通过<code>flush()</code> 或者关闭这个缓冲流来实现将缓冲流中的数据回显</li>
</ul>
<h3 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h3><table>
<thead>
<tr>
<th align="center">流接口</th>
</tr>
</thead>
<tbody><tr>
<td align="center">java.io.DataInputStream</td>
</tr>
<tr>
<td align="center">java.io.DataOutputStream</td>
</tr>
<tr>
<td align="center"></td>
</tr>
</tbody></table>
<ul>
<li>Data写入的数据必须使用Data读取，否则为乱码</li>
<li></li>
</ul>
<h3 id="对象专属-重要"><a href="#对象专属-重要" class="headerlink" title="对象专属(重要)"></a>对象专属(重要)</h3><ul>
<li><p><code>java.io.ObjectInputStream</code></p>
</li>
<li><p><code>java.io.ObjectOutputStream</code></p>
</li>
<li><p>涉及虚拟化，反虚拟化</p>
</li>
</ul>
<h2 id="字节流对象使用"><a href="#字节流对象使用" class="headerlink" title="字节流对象使用"></a>字节流对象使用</h2><h3 id="创建流对象"><a href="#创建流对象" class="headerlink" title="创建流对象"></a>创建流对象</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"文件路径"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="读取数据"><a href="#读取数据" class="headerlink" title="读取数据"></a>读取数据</h3><ul>
<li><code>fileInputStream.read()</code>方法一次只能获取一个字节，如果需要获取所有字节，需要使用遍历，获取的值为<strong>ASCII码</strong>，当read读取完数据时，返回-1</li>
</ul>
<h4 id="方法1：遍历"><a href="#方法1：遍历" class="headerlink" title="方法1：遍历"></a>方法1：遍历</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"> 
<span class="token comment">//读取数据</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

    <span class="token comment">//使用read方法获取数据</span>
    <span class="token keyword">int</span> read <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//当字节读取完成后会输出-1</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>read<span class="token operator">*</span><span class="token operator">*</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>read<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="方法2：字节数组"><a href="#方法2：字节数组" class="headerlink" title="方法2：字节数组"></a>方法2：字节数组</h4><ul>
<li><p>读取规则：</p>
<ol>
<li><p>创建字节数组</p>
<p> <code>byte[] a = new byte[i]</code>  i为需要读取的字节数</p>
</li>
<li><p>使用流对象读取数据，存入字节数组</p>
<p>  <code>int num = fileInputStream.read(a)</code></p>
</li>
<li><p>对字符串进行转码 </p>
<p><code>String s = new String(a1);</code></p>
<p>或者</p>
<p><code>String s = new String(a1,0,i)</code> i 为读取的数据值，一般设为流对象读取到的数据个数</p>
</li>
</ol>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//创建一个字节数组 read()方法中可以传入一个字节数组,一次读取规定的字节数</span>
<span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//使用流对象读取字节数组，如果接收值，返回的是Int型</span>
fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//new String(a) 将字节码转换成字符串</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//第一次输出 abc</span>
<span class="token comment">//第二次输出 dbc</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> read <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一次读取3个字节</span>

<span class="token comment">//读到几个字节，转换几个字节 ,从0开始，转化read个字节</span>
<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> read<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

read <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//重新读取数据，此时获取的数据个数为1</span>
<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> read<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>*注意：！！！<ul>
<li>字节数组会自动往前读，第一次读取的是abc,第二次读取时会自动重复 dbc</li>
<li><code>new String(bytes)</code> 会将字节数组转换成字符串，即数据本身</li>
</ul>
</li>
</ul>
<h4 id="读取数据最终版"><a href="#读取数据最终版" class="headerlink" title="读取数据最终版"></a>读取数据最终版</h4><ul>
<li><p>由于java中一次读取多个字节会报错，因此分为两种方法</p>
<ul>
<li>第一种 <strong>适合少量字节</strong><ul>
<li>直接通过available方法获取到文件中未读取的字节数量</li>
<li>然后赋值给字节数组</li>
<li>通过read方法读取数据,存入字节数组</li>
<li>使用new String方法转化字节为字符</li>
</ul>
</li>
<li>第二种  <strong>适合大量字节</strong><ul>
<li>创建字节数组对象</li>
<li>获取读取到的字节数组个数</li>
<li>使用while遍历数组，限定条件为读取到的字节不为-1</li>
<li>while中每一次遍历都将数组中的字节转化为字符输出，输出方法为<code>prin</code></li>
</ul>
</li>
</ul>
</li>
<li><p><code>new String(bytes, )</code></p>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">
<span class="token comment">//--------------读取数据，适合少量数据，read一次读取多字节会报错</span>
<span class="token comment">//创建流对象</span>
<span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"D:\\Game\\cccc.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//获取到文件中未读取到的字节数量</span>
<span class="token keyword">int</span> available <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"获取到未读取的字节数量为："</span><span class="token operator">+</span>available<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建字节数组</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>available<span class="token punctuation">]</span><span class="token punctuation">;</span>
fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>





<span class="token comment">//---------------读取数据，适合大量字节（常用）</span>
<span class="token comment">//创建流对象</span>
<span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"D:\\Game\\cccc.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建数组对象</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//防止多读1次</span>
<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 

<span class="token comment">//获取读取的数据个数 并判断返回值是否为-1,Reada方法读取到最后一个字节后会返回-1</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>num <span class="token operator">=</span> fileInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="输出数据"><a href="#输出数据" class="headerlink" title="输出数据"></a>输出数据</h3><h4 id="创建输出流对象"><a href="#创建输出流对象" class="headerlink" title="创建输出流对象"></a>创建输出流对象</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//参数指定是 要把内存中的数据 具体写到哪个文件中，如果没有指定，默认在idea文件夹中创建文件</span>
<span class="token comment">//构造方法中追加true,可以让数据追加写入，不会覆盖</span>
 fileOutputStream <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"D:\\Game\\cccc.txt"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建文字</span>
<span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">"你好"</span><span class="token punctuation">;</span>

<span class="token comment">//转换字符为字节数组</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//刷新数据</span>
fileOutputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="输出数据需要注意"><a href="#输出数据需要注意" class="headerlink" title="输出数据需要注意"></a>输出数据需要注意</h4><ul>
<li>使用输出对象后，必须要调用刷新方法，否则会导致数据丢失。</li>
</ul>
<h2 id="字符流对象使用"><a href="#字符流对象使用" class="headerlink" title="字符流对象使用"></a>字符流对象使用</h2><h2 id="缓冲流对象使用"><a href="#缓冲流对象使用" class="headerlink" title="缓冲流对象使用"></a>缓冲流对象使用</h2><ul>
<li><p>缓冲流对象：</p>
<ul>
<li>自带缓冲区的流，在一次性读取多个字符或字节的时候，不需要创建数组。</li>
</ul>
</li>
<li><p>在缓冲流对象中传入的应该是其他的流对象（例如字节流，字符流）</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> <span class="token comment">//创建文件字符输入流</span>
<span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">"D:\\Game\\cccc.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//创建缓冲流对象</span>
<span class="token class-name">BufferedReader</span> bufferedReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>fileReader<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//fileReader相对来说称为节点流</span>
<span class="token comment">//bufferReader在外层，被称为包装流</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h2 id="数据流对象使用"><a href="#数据流对象使用" class="headerlink" title="数据流对象使用"></a>数据流对象使用</h2><ul>
<li><p>数据流写出来的文件，是通过加密的，只能通过对应的数据流读取出来</p>
</li>
<li><p>数据流读取或者写入要按照写入的顺序，否则乱码</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//写入数据</span>
dataOutputStream<span class="token punctuation">.</span><span class="token function">writeInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dataOutputStream<span class="token punctuation">.</span><span class="token function">writeChar</span><span class="token punctuation">(</span><span class="token string">'好'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//读出数据 要按照写入的顺序依次读取</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> dataInputStream<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> dataInputStream<span class="token punctuation">.</span><span class="token function">readChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//正常输出</span>
<span class="token number">3</span>
好
  
<span class="token comment">//更换顺序读取 ,造成乱码</span>
<span class="token number">219517</span>
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h2 id="标准输出流对象使用"><a href="#标准输出流对象使用" class="headerlink" title="标准输出流对象使用"></a>标准输出流对象使用</h2><ul>
<li><p>一般用于控制台打印，日志的收集</p>
</li>
<li><p>默认路径是控制台，可以使用 <code>System.setOut()</code>方法改变输出路径 ,要<strong>先更改输出路径再获取</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//创建标准输出流对象</span>
<span class="token class-name">PrintStream</span> printStream2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"data02.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//更改输出路径</span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setOut</span><span class="token punctuation">(</span>printStream2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//System.out返回值为标准输出流</span>
<span class="token class-name">PrintStream</span> printStream1 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">;</span> <span class="token comment">//</span>
																			 <span class="token comment">// 等同于 System.out.println()</span>
<span class="token comment">//打印hello word												//</span>
printStream1<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hello word"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		 <span class="token comment">//</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="日志打印案例"><a href="#日志打印案例" class="headerlink" title="日志打印案例"></a>日志打印案例</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//创建标准输出流对象，传入的是文件输出流对象</span>
<span class="token class-name">PrintStream</span> printStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"logger.txt"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//设置输出路径</span>
<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setOut</span><span class="token punctuation">(</span>printStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取当前时间</span>
<span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建日期格式化对象，用于规定日期的格式</span>
<span class="token class-name">SimpleDateFormat</span> simpleDateFormat  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-dd hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//格式化日期，返回值为日期字符串</span>
<span class="token class-name">String</span> dataTime <span class="token operator">=</span> simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//刷新流对象 只需要刷新最外层包装流</span>
printStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="对象专属流"><a href="#对象专属流" class="headerlink" title="对象专属流"></a>对象专属流</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectOutputStream</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h3><ul>
<li>在java中主要操作Java对象,在硬盘和内存中，模块与模块中，都需要用到序列化和反序列化的技术。<ul>
<li>序列化 ： 将java对象输出到硬盘上 ，生成看不懂的文件</li>
<li>反序列化： 将硬盘上的看不懂的文件输入到内存中，转成Java对象</li>
</ul>
</li>
</ul>
<p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210508111329.png" alt="java对象序列化"></p>
<h3 id="序列化java对象-类"><a href="#序列化java对象-类" class="headerlink" title="序列化java对象(类)"></a>序列化java对象(类)</h3><ul>
<li><p>java对象要想实现序列化，则必须要实现序列化接口<code>Serializable</code>,这个接口只能被jvm虚拟机识别</p>
<ul>
<li><code>Serialzable</code>是一个序列化接口，jvm在检测到该类有这个接口时，才会赋予该类序列化的权限</li>
</ul>
</li>
<li><p>在程序执行的时候，当前类会被生成字节码文件</p>
<p>同时jvm会检测该类是否实现了序列化接口Serialzable</p>
<p>如果实现了则给该类分配一个序列化版本号，也是一个标识的作用。</p>
<p>(例如两个User类都序列化，则通过其序列版本号进行分辨)</p>
<p><strong>如果在执行序列化Java对象后，对java对象进行了更改，则其版本号也会更改</strong></p>
<p><strong>指定唯一的序列化版本号，避免User类修改后序列化版本号异常</strong></p>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//简单实例</span>

<span class="token comment">//序列化接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">//自己指定唯一的序列化版本号，避免User类修改后序列化版本号异常</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">4546878613565265748L</span><span class="token punctuation">;</span>


    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> aaa<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"User&#123;"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">", age='"</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="序列化单个对象"><a href="#序列化单个对象" class="headerlink" title="序列化单个对象"></a>序列化单个对象</h3><ul>
<li>由于序列化是将数据输出到硬盘中，为输出流</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//创建对象输出流对象 对象是文件输出流对象</span>
<span class="token class-name">ObjectOutputStream</span> objcetOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"dataFile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建java对象</span>
<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//将对象写入到文件中,生成的是一堆乱码</span>
objcetOutputStream<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//刷新</span>
objcetOutputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//关闭</span>
objectOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="反序列化单个对象"><a href="#反序列化单个对象" class="headerlink" title="反序列化单个对象"></a>反序列化单个对象</h3><ul>
<li><strong><strong>反序列化是从硬盘中读取文件到内存，为输入流</strong></strong></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//反序列化是从硬盘中读取文件到内存，为输入流</span>
<span class="token comment">//创建反序列化对象,读取文件名要和序列化保持一致</span>
<span class="token class-name">ObjectInputStream</span> objectInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"dataFile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//读取数据，返回的是Object对象</span>
<span class="token class-name">Object</span> object <span class="token operator">=</span> objectInputStream<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//由于不知道返回的到底是什么数据类型，需要判断是否为User对象，是的话对数据进行强转，读取到真正的数据</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>object <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  
  <span class="token class-name">User</span> users <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span>objcet<span class="token punctuation">;</span>
  
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="序列化多个对象"><a href="#序列化多个对象" class="headerlink" title="序列化多个对象"></a>序列化多个对象</h3><ul>
<li><p>由于ArrayList集合底层也实现了序列化接口<code>Serializable</code>并指定了唯一的版本号,因此在序列化多个对象时，可以直接使用ArrayList集合进行存储</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">implements</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">></span></span><span class="token punctuation">,</span> <span class="token class-name">RandomAccess</span><span class="token punctuation">,</span> <span class="token class-name">Cloneable</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//序列化是将数据输出到硬盘中，为输出流</span>
<span class="token comment">//创建输出流对象</span>
<span class="token class-name">ObjectOutputStream</span> objcetOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"dataFile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建多个Java对象</span>
<span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"张三1"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">User</span> user2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"张三2"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">User</span> user3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"张三3"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">User</span> user4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"张三4"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">User</span> user5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"张三5"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//创建集合，存放数据</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user2<span class="token punctuation">)</span><span class="token punctuation">;</span>
users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user3<span class="token punctuation">)</span><span class="token punctuation">;</span>
users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user4<span class="token punctuation">)</span><span class="token punctuation">;</span>
users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user5<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//将集合输出到文件中</span>
objectOutputStream<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//刷新</span>
objcetOutputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//关闭</span>
objectOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="反序列化多个对象"><a href="#反序列化多个对象" class="headerlink" title="反序列化多个对象"></a>反序列化多个对象</h3><ul>
<li><strong><strong>反序列化是从硬盘中读取文件到内存，为输入流</strong></strong></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ObjectInputStream</span> objectInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"dataFile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">//读取数据,由于数据为集合，所以将数据转换为集合</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> object <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>objectInputStream<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//遍历集合对象</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> user <span class="token operator">:</span> object<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//关闭流</span>
objectInputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>











<h1 id="多线程（重要）"><a href="#多线程（重要）" class="headerlink" title="多线程（重要）"></a>多线程（重要）</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul>
<li><p>进程</p>
<ul>
<li>操作系统中一个程序以及其数据在处理机上顺序执行时发生的活动</li>
<li>例如电脑上一个应用</li>
</ul>
</li>
<li><p>线程</p>
<ul>
<li>也被称为<strong>轻量进程</strong>，是进程中某一个单一顺序的控制流</li>
<li>一个进程有多个线程，运行不同的功能</li>
</ul>
</li>
<li><p>多进程</p>
<ul>
<li>在操作系统中同时运行多个任务（程序）</li>
</ul>
</li>
<li><p>多线程</p>
<ul>
<li>在<strong>同一个应用程序</strong>中有多个顺序流同时执行</li>
</ul>
</li>
</ul>
<ul>
<li>线程生命周期<ul>
<li>一个线程从创建到执行完的整个过程</li>
</ul>
</li>
</ul>
<h2 id="多线程在jvm的分布"><a href="#多线程在jvm的分布" class="headerlink" title="多线程在jvm的分布"></a>多线程在jvm的分布</h2><p>jvm :</p>
<ul>
<li><p>栈</p>
<ul>
<li><p>局部变量的声明</p>
<p><code>CreadThread t1</code></p>
</li>
</ul>
</li>
<li><p>堆</p>
<ul>
<li><code>new CreadThread()</code></li>
</ul>
</li>
<li><p>方法区 </p>
<ul>
<li><p>字符常量池、字节码文件</p>
<p><code>CreadThread.class</code></p>
<p><code>ThreadTest05.class</code></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>在java多线程中，一个线程对应一个栈</p>
</li>
<li><p>栈中的资源是不同享的</p>
</li>
<li><p>堆和方法区中的资源是线程共享的</p>
</li>
<li><p>成员变量属于堆内存，可以作为共享对象，局部变量在栈中开辟空间，不能作为共享对象</p>
</li>
<li><p>jvm 是运行在计算机上的一个进程，一个线程对应一栈，当新建一个线程时，在内存中开辟一个新的栈空间，多栈之间不会共享资源，</p>
</li>
</ul>
<h2 id="创建线程"><a href="#创建线程" class="headerlink" title="创建线程"></a>创建线程</h2><h3 id="方法一：实现Runnable接口-常用"><a href="#方法一：实现Runnable接口-常用" class="headerlink" title="方法一：实现Runnable接口(常用)"></a>方法一：实现Runnable接口(常用)</h3><ul>
<li><p>实现Runnable接口后，必须要重写run方法</p>
</li>
<li><p>实现Runnable接口的类仍然只是一个可实现的类，并不是一个线程类，需要在对象调用处将其包装成线程类</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//实现Runnable接口，作为线程的实现类</span>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>
  
  <span class="token comment">//表示线程的名称</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  
  <span class="token comment">//通过构造方法配置name属性，免去使用setName</span>
  <span class="token keyword">public</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token comment">//重写run方法，作为线程的操作主体</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"运行,i="</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span> 
<span class="token punctuation">&#125;</span>

<span class="token comment">//main方法</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RunnableDemo01</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    
    <span class="token comment">//实例化对象 ，传入名称</span>
    <span class="token class-name">MyThread</span> mt1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">"线程A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">MyThread</span> mt2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">"线程B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">//实例化Thread对象</span>
    <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mt1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>mt2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">//开启线程</span>
    t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="方法二：继承Thread类"><a href="#方法二：继承Thread类" class="headerlink" title="方法二：继承Thread类"></a>方法二：继承Thread类</h3><ul>
<li>由于开启线程时会默认调用线程类中的run方法，所以在创建完一个线程对象后，要重写run方法</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">*</span><span class="token operator">*</span>
 <span class="token operator">*</span> 创建线程类的方法一：继承<span class="token class-name">Thread</span>类
 <span class="token operator">*</span><span class="token operator">/</span>
<span class="token keyword">class</span>  <span class="token class-name">ThreadTest</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>
  
  <span class="token comment">//显示线程的名称</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  
  <span class="token comment">//通过构造方法配置name属性</span>
  <span class="token keyword">public</span> <span class="token class-name">MyThreadTest</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

    <span class="token comment">//创建完线程类，需要重写run方法</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadDemo02</span><span class="token punctuation">&#123;</span>
  
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token class-name">MyThread</span> mt1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">"线程A "</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token comment">// 实例化对象 </span>
   <span class="token class-name">MyThread</span> mt2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token string">"线程B "</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token comment">// 实例化对象 </span>
   mt1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>   <span class="token comment">// 调用线程主体 </span>
   mt2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>   <span class="token comment">// 调用线程主体</span>
   
 <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="方法三：FutureTask"><a href="#方法三：FutureTask" class="headerlink" title="方法三：FutureTask"></a>方法三：FutureTask</h3><ul>
<li>未来任务类对象</li>
</ul>
<ul>
<li>这种方式其创建线程对象可以获得线程的返回值</li>
</ul>
<ul>
<li>返回值必须要等到线程结束之后才能返回</li>
<li>缺点：线程结束之后才能获取返回值，获取返回值时会造成主线程的阻塞。</li>
</ul>
<h2 id="线程生命周期"><a href="#线程生命周期" class="headerlink" title="线程生命周期"></a>线程生命周期</h2><ul>
<li>新建状态</li>
<li>就绪状态</li>
<li>运行状态</li>
<li>阻塞状态</li>
<li>死亡状态</li>
</ul>
<h3 id="新建状态"><a href="#新建状态" class="headerlink" title="新建状态"></a>新建状态</h3><ul>
<li><p>创建一个线程类对象即为新建状态</p>
</li>
<li><p>创建了一个线程类对象</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//此对象由自己创建</span>
<span class="token class-name">ThreadTest</span> threadTest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="就绪状态"><a href="#就绪状态" class="headerlink" title="就绪状态"></a>就绪状态</h3><ul>
<li><p>调用start方法后，就会在内存中开辟一个栈空间，进入就绪状态，<strong>认为它有了抢占cpu时间片的权利</strong>，可视为一个线程</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//开启线程</span>
threadTest<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="运行状态"><a href="#运行状态" class="headerlink" title="运行状态"></a>运行状态</h3><ul>
<li><p>如果当前线程争夺到cpu使用权，则该线程会进入run方法，进入run方法的线程处于运行状态</p>
</li>
<li><p>执行run方法，才是 <strong>运行状态</strong></p>
</li>
<li><p>开启线程之后，默认调用线程类中的run方法，所以在创建完一个线程对象之后，一定要重写run方法。</p>
</li>
<li><p>java支持多线程，jvm虚拟机，有一个多线程调度功能，多个线程同时去争夺cpu时间片，抢到的线程 执行run方法，等到时间执行结束，重新回到就绪状态，再去争抢cpu时间片。</p>
</li>
</ul>
<h3 id="阻塞状态"><a href="#阻塞状态" class="headerlink" title="阻塞状态"></a>阻塞状态</h3><ul>
<li>处于运行状态的线程调用sleep方法，进入了睡眠或控制台打印等需要发生等待的操作，那该线程处于阻塞状态,处于阻塞状态的线程，会释放cpu使用权，重新进入就绪状态</li>
</ul>
<h3 id="死亡状态"><a href="#死亡状态" class="headerlink" title="死亡状态"></a>死亡状态</h3><ul>
<li>当所有线程执行完毕了，即进入死亡状态</li>
</ul>
<h2 id="线程优先级"><a href="#线程优先级" class="headerlink" title="线程优先级"></a>线程优先级</h2><ul>
<li>线程优先级数字越高，优先级越高</li>
<li>在没有设置的情况下，所有线程的优先级是相同的，即<strong>抢占CPU时间的概率相同</strong>000</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//获取线程类对象</span>
<span class="token class-name">Thread</span> thread01 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ThreadTest01</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//设置线程优先级</span>
thread01<span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token keyword">int</span>型<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取线程当前优先级</span>
<span class="token keyword">int</span> priority <span class="token operator">=</span> thread01<span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h2 id="线程调度模型"><a href="#线程调度模型" class="headerlink" title="线程调度模型"></a>线程调度模型</h2><h3 id="抢占式调度模型"><a href="#抢占式调度模型" class="headerlink" title="抢占式调度模型"></a>抢占式调度模型</h3><ul>
<li>哪个线程优先级比较高，抢到的CPU时间片的概率就多一些，<strong><strong>java采用的是抢占式调度模型</strong></strong></li>
</ul>
<h3 id="均分式调度模型"><a href="#均分式调度模型" class="headerlink" title="均分式调度模型"></a>均分式调度模型</h3><ul>
<li>平均分配CPU时间片。每个线程占有的CPU时间片长度一样。</li>
</ul>
<h2 id="yield-与-sleep方法"><a href="#yield-与-sleep方法" class="headerlink" title="yield() 与 sleep方法"></a>yield() 与 sleep方法</h2><h3 id="yield方法"><a href="#yield方法" class="headerlink" title="yield方法"></a>yield方法</h3><p>暂停当前正在执行的线程对象，并执行其他线程</p>
<p>yield()方法的执行会让当前线程从“运行状态”回到“就绪状态”。</p>
<h3 id="sleep方法"><a href="#sleep方法" class="headerlink" title="sleep方法"></a>sleep方法</h3><ul>
<li>作用：让当前线程进入到休眠状态，即为线程的阻塞状态</li>
<li>参数是 <code>ms</code></li>
<li>通常用sleep方法模拟网络延迟</li>
</ul>
<p>sleep方法在指定的毫秒数中让指定的线程休眠，休眠后重新进入就绪状态。</p>
<ul>
<li>无论是否使用t1.sleep方法，在运行的时候最终都会变成Thread.sleep方法</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">10</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">//sleep方法休眠之后重新进入就绪状态</span>
    <span class="token comment">//让当前线程休眠2s,进入阻塞状态，2s后再进行下一个数据输出，可以用来模拟网络延迟</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"分支"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h2 id="线程安全-（最重要）"><a href="#线程安全-（最重要）" class="headerlink" title="线程安全 （最重要）"></a>线程安全 （最重要）</h2><h3 id="线程存在不安全条件"><a href="#线程存在不安全条件" class="headerlink" title="线程存在不安全条件"></a>线程存在不安全条件</h3><ul>
<li>多线程并发</li>
<li>有共享数据</li>
<li>共享数据有修改的行为</li>
</ul>
<p>满足以上条件，必须要注意线程安全</p>
<h3 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h3><h4 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h4><ul>
<li>线程与线程之间发生了等待关系，即有联系</li>
<li>堆内存</li>
</ul>
<h4 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h4><ul>
<li>线程一般处于异步状态，即互不干扰，即线程并发状态</li>
</ul>
<ul>
<li>线程与线程必须同步（两个线程之间有联系）</li>
<li>如果没有设置线程安全，线程一般情况下处于异步状态（互不干扰）</li>
</ul>
<h3 id="线程同步关键字"><a href="#线程同步关键字" class="headerlink" title="线程同步关键字"></a>线程同步关键字</h3><ul>
<li><code>synchronized()</code>  线程同步关键字/线程同步锁</li>
<li>修饰普通方法  对象锁</li>
<li>修饰静态方法  类锁</li>
</ul>
<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>假设当前程序有t1,t2线程，this一般称为对象锁。</p>
<p>如果t1线程先来到同步代码块，发现this对象锁没有被占有，这时t1线程会占有这把锁，然后执行代码块中的内容。</p>
<p>在t1线程没有结束之前，t2线程过来，发现this对象锁已经被占有，这时t2线程必须在锁时等待，等待t1释放对象锁，t2才能重新持有</p>
<h4 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h4><h5 id="同步代码块"><a href="#同步代码块" class="headerlink" title="同步代码块"></a>同步代码块</h5><ul>
<li><p>可以使线程同步</p>
</li>
<li><p>括号内为线程共享对象</p>
</li>
<li><p>this指向当前实例，必须为同一个共享对象，对于别的线程来说，是不共享的</p>
</li>
<li><ul>
<li>局部变量不可以共享对象</li>
<li>成员变量可以作为共享对喜爱那个，因为其在堆内存中创建</li>
<li>引用数据类型”abc”可以作为共享对象，因为其存放在方法区的常量池中</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">synchronized</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h5 id="修饰方法"><a href="#修饰方法" class="headerlink" title="修饰方法"></a>修饰方法</h5><ul>
<li>如果用synchronized修饰方法时，对象方法一定是this，锁住的方法时整个代码块</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">getMoney</span><span class="token punctuation">(</span><span class="token keyword">double</span> money<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  
  <span class="token comment">//代码内容</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>缺点是会把整个方法体中的内容全部锁住，会降低程序的执行效率</strong></p>
<h2 id="多线程其他方法"><a href="#多线程其他方法" class="headerlink" title="多线程其他方法"></a>多线程其他方法</h2><h3 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h3><ul>
<li>当前线程进入阻塞状态，</li>
</ul>
<h3 id="suspend"><a href="#suspend" class="headerlink" title="suspend()"></a>suspend()</h3><ul>
<li>线程把自己挂起</li>
</ul>
<h3 id="resume"><a href="#resume" class="headerlink" title="resume()"></a>resume()</h3><ul>
<li>线程把自己唤醒</li>
</ul>
<h3 id="stop"><a href="#stop" class="headerlink" title="stop()"></a>stop()</h3><ul>
<li>中断线程执行</li>
</ul>
<h3 id="interrupt"><a href="#interrupt" class="headerlink" title="interrupt()"></a>interrupt()</h3><ul>
<li>强制将线程从睡眠唤醒</li>
<li>通过异常机制唤醒</li>
</ul>
<h2 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h2><ul>
<li>Java语言中线程分为两大类：<ul>
<li>用户线程</li>
<li>守护线程</li>
</ul>
</li>
</ul>
<h3 id="设置守护线程"><a href="#设置守护线程" class="headerlink" title="设置守护线程"></a>设置守护线程</h3><ul>
<li>```<br>//将该线程对象设置为守护线程<br>thread.setDaemon(true);<pre class="line-numbers language-none"><code class="language-none">




## 生产者模式和消费者模式

- 生产者与消费者模型

![img](https:&#x2F;&#x2F;wgmpwy.oss-cn-beijing.aliyuncs.com&#x2F;typoraNew&#x2F;20210507142110.jpeg)



### 执行模式

1. 生产者先判断仓库是否有产品，有产品则让生产者等待，让消费者消费
2. 生产者判断无产品，则生产一个产品，并唤醒消费者进行消费
3. 消费者判断仓库中是否有商品，有则进行消费操作，无则进行等待，让生产者执行生产操作

### 使用方法

- wait()，notify方法只有在多线程同步的情况下，即有共享对象之间才能使用，线程与线程之间有等待关系，需要加锁 synchronized()

#### wait()方法

- 所有引用数据类型都有的方法，如果需要使用，则必须要有共享对象

- 让该对象上活动的线程进入等待状态，并且无限期等待，直到被唤醒为止  ，如

  - 例如 t1,t2,t3线程有一共享对象account，当account.wait()方法时，可以使t1,t2,t3线程进入等待池中，直到被唤醒为止。唤醒方法为&#96;notify()&#x2F;notifyAll()方法&#96;，**两者成对出现**

- &#96;&#96;&#96;
  加入同步锁，在同一时刻，只会有一个线程进行操作，使用wait方法时就只会让一个线程进行等待<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="notify-方法"><a href="#notify-方法" class="headerlink" title="notify()方法"></a>notify()方法</h4><ul>
<li>notify()是在等待池中随机唤醒一个线程，</li>
</ul>
<h4 id="notify-方法-1"><a href="#notify-方法-1" class="headerlink" title="notify()方法"></a>notify()方法</h4><ul>
<li>唤醒等待池中所有线程</li>
</ul>
<h1 id="反射机制"><a href="#反射机制" class="headerlink" title="反射机制"></a>反射机制</h1><ul>
<li><p>反射机制是各大框架底层都有，如果想读懂框架底层，必须学号反射</p>
</li>
<li><p>通过java语言中的反射机制可以操作字节码文件</p>
</li>
<li><p>通过反射机制可以操作代码片段</p>
</li>
<li><p>反射机制也可以创建对象，操作字节码文件创建，<strong>不会在堆内存中开辟空间</strong>，而直接new对象会在堆内存中开辟空间</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//获取字节码对象</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> userClass <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token comment">//通过反射机制创建类的实例</span>
        <span class="token comment">//只要使用new 关键字，就一定会在堆内存中开辟空间，</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p>反射可以在类加载时获取类的信息，包括属性，构造，普通方法，静态方法，以及相关的子类，父类以及接口。</p>
<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>反射是通过操作字节码的方式来操作类，或者获取类的信息</p>
<p>通过反射创建对象，不用在内存中开辟空间，这样会节约系统资源</p>
<p>以后学习的各大框架的底层，都会用到反射机制</p>
<h2 id="反射机制中的类"><a href="#反射机制中的类" class="headerlink" title="反射机制中的类"></a>反射机制中的类</h2><ol>
<li><code>java.lang.Class</code> ：代表</li>
</ol>
<p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210508093621.png" alt="反射机制中的类"></p>
<h2 id="使用反射"><a href="#使用反射" class="headerlink" title="使用反射"></a>使用反射</h2><h3 id="获取类对象"><a href="#获取类对象" class="headerlink" title="获取类对象"></a>获取类对象</h3><ul>
<li><p>第一种：<code>Class c = Class.forName(&quot;完整类名&quot;)</code></p>
<ul>
<li>直接根据一个字符串定义的类名称获取Class类的实例化对象，由于字符串的支持较多并且拼接方便，这种获取Class类实例的方式最灵活</li>
<li><strong>注：</strong> 当使用此方法获取Class类对象实例化时必须传入完整类名，否则报<code>ClassNotFountException</code>异常。</li>
</ul>
</li>
<li><p>第二种  <code>Class c = 对象.getClass</code></p>
<ul>
<li>利用Object类中提供的<code>getClass()方法</code>获取实例化对象</li>
</ul>
</li>
<li><p>第三种  使用 <code>类.class</code> 形式获取指定类或接口的Class实例化对象</p>
<ul>
<li>如图：</li>
</ul>
<p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210508092040.png" alt="image-20210508092035566"></p>
<ul>
<li>当线程对象的Class类对象实例与Sell1字节码对象相同时，执行方法</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//法1 获取User类的字节码对象 Class.forName("全类名")  只有获取字节码对象，才能操作这个类</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.wufan.pojo.User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//法2 对象.getClass() 在java中，所有引用数据类型都有getClass()这个方法，用于获取字节码对象</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">User</span><span class="token punctuation">></span></span> aClass1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>aClass1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//法3.类.class</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> aClass2 <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>aClass2<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="获取类的属性，值，名称"><a href="#获取类的属性，值，名称" class="headerlink" title="获取类的属性，值，名称"></a>获取类的属性，值，名称</h3><ul>
<li><p>获取类对象后，再使用<strong>对象.方法</strong>的形式 获取类的属性</p>
</li>
<li><p><code>getField(“需要获取的属性)</code>  :  获取被public 修饰的属性</p>
</li>
<li><p><code>getFields()</code>  : 获取所有被Public修饰的属性</p>
</li>
<li><p><code>getDeclaredField(&quot;需要获取的属性&quot;)</code> :获取所有属性</p>
</li>
<li><p><code>getDeclaredFields()</code> ：获取所有属性</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//获取字节码对象</span>
            <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> userClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.wufan.pojo.User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//获取属性字节码对象</span>
            <span class="token comment">//getField()方法只能获取被public修饰的某个属性</span>
            <span class="token comment">//getFields()方法获取被public修饰的所有属性</span>
            <span class="token comment">//getDeclaredField 获取任何属性</span>
            <span class="token class-name">Field</span> id <span class="token operator">=</span> userClass<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//获取一个类中所有属性</span>
            <span class="token class-name">Field</span><span class="token punctuation">[</span><span class="token punctuation">]</span> name <span class="token operator">=</span> userClass<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//遍历属性数组</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Field</span> field <span class="token operator">:</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="获取属性"><a href="#获取属性" class="headerlink" title="获取属性"></a>获取属性</h3><ul>
<li><p>获取属性前，首先需要获取属性的方法获取对象属性，再进行操作</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Field</span> declaredField <span class="token operator">=</span> userClass<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"PASSWORD"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p><code>属性.getModifiers()</code> <strong>获取属性的修饰符代号</strong>  （配合toString方法获取属性修饰符）</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//获取属性修饰符代号</span>
<span class="token keyword">int</span> modifiers <span class="token operator">=</span> decalaredField<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//将修饰符转换成字符串</span>
<span class="token class-name">String</span> toString <span class="token operator">=</span> modifiers<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>modifiers<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p><code>属性.getType()</code> <strong>获取属性的数据类型</strong> </p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> type <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p><code>属性.getName()</code> <strong>获取属性的名称</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> name <span class="token operator">=</span> declaredField<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
</ul>
<h3 id="获取类的方法"><a href="#获取类的方法" class="headerlink" title="获取类的方法"></a>获取类的方法</h3><ul>
<li><p>要想获取类的方法，必须要先获取类对象</p>
</li>
<li><p><code>对象.getMethod()</code>   获取被pubilc修饰的方法</p>
</li>
<li><p><code>对象.getDeclaredMethod()</code> 获取所有方法</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//获取字节码对象</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> userClass <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token comment">//获取方法的字节码对象  name: 方法名  String...args:可变长参数，传入 参数数据类型的对象</span>
<span class="token class-name">Method</span> declaredMethod <span class="token operator">=</span> userClass<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">"login"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p><code>方法字节码对象.getModifiers()</code> : 获取方法的修饰符代号</p>
<ul>
<li>使用 <code>Modifier.toString(修饰符代号)</code>转换代号为字符串</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//获取方法的修饰符</span>
       <span class="token keyword">int</span> modifiers <span class="token operator">=</span> declaredMethod<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">String</span> toString <span class="token operator">=</span> <span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>modifiers<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p><code>方法字节码对象.getParameterTypes()</code> :获取方法的所有参数类型 （需遍历）</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//获取方法的参数数据类型</span>
       <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> parameterTypes <span class="token operator">=</span> declaredMethod<span class="token punctuation">.</span><span class="token function">getParameterTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> parameterType <span class="token operator">:</span> parameterTypes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  
           <span class="token comment">//获取方法的参数数据类型名称</span>
           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parameterType<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="获取构造方法"><a href="#获取构造方法" class="headerlink" title="获取构造方法"></a>获取构造方法</h3><ul>
<li><p>要想获取构造方法，必须先获取类对象</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"全类名"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p><code>对象.getDeclaredConstructors</code> : 创建构造类对象</p>
</li>
<li><p><code>对象.getDeclaredConstructor(&quot;参数数据类型&quot;)</code> :获取指定的构造类对象，通过参数数据类型判断是哪个构造方法</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">  ```

  







# 注解

## 什么是注解：

<span class="token operator">-</span> 注解只起到标识的作用

<span class="token operator">-</span> 是元数据（<span class="token class-name">Annotation</span>），是一种对代码进行说明的数据，JDK1<span class="token punctuation">.</span><span class="token number">5</span>引入的新规范，是与类、接口、枚举等

<span class="token operator">-</span> 注解中可以拥有属性，但是不可以拥有方法
<span class="token operator">-</span> 在注解中声明属性后，用该注解修饰元素的时候一定要给属性赋值，除非有默认值  `给属性赋值 <span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"张三"</span><span class="token punctuation">)</span>`

## 注解运用范围

<span class="token operator">-</span> 语法格式

  `<span class="token annotation punctuation">@interface</span> 注解名称`

<span class="token operator">-</span> 注解可以出现在类上，属性上，方法上，变量上



## JDK常用注解

<span class="token operator">-</span> `override`  表示一个方法声明打算重写超类中的另一个方法

<span class="token operator">-</span> `<span class="token class-name">Deprecated</span>`  ：标注的内容不再被建议使用
<span class="token operator">-</span> `<span class="token annotation punctuation">@Documented</span>` <span class="token operator">:</span> 所标注的内容，可以出现在javadoc中





## 元注解









# 设计模式

<span class="token operator">-</span> `design pattern`   是对软件设计中普遍存在的问题，所提出的解决方法
<span class="token operator">-</span> 设计模式是一套被反复使用的、多数人知晓的、经过分类编目的、代码设计经验的总结。
<span class="token operator">-</span> 要求程序具有可读性，规范性，维护性



## 用处

<span class="token operator">-</span> 设计模式主要是为了解决类与类之间的关系





## 目的

<span class="token operator">-</span> 为了让代码具有更好的重用性，可读性，可扩展性，可靠性，使程序呈现高内聚，低耦合
  <span class="token operator">-</span> 重用性： 很多代码是可以重复使用的，例如工具类
  <span class="token operator">-</span> 可读性： 为了与别人进行协作，写的代码别人看得懂
  <span class="token operator">-</span> 可扩展性： 对修改关闭，对扩容开放 <span class="token punctuation">,</span>修改之后，不会对其他功能造成影响
  <span class="token operator">-</span> 高内聚<span class="token operator">:</span>  
  <span class="token operator">-</span> 低耦合：



## 设计模式七大原则

<span class="token operator">></span> <span class="token number">1.</span> 单一职责原则
<span class="token operator">></span> <span class="token number">2.</span> 接口隔离原则
<span class="token operator">></span> <span class="token number">3.</span> 依赖倒转（倒置）原则
<span class="token operator">></span> <span class="token number">4.</span> 里氏替换原则
<span class="token operator">></span> <span class="token number">5.</span> <span class="token operator">*</span><span class="token operator">*</span>开闭原则<span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">></span> <span class="token number">6.</span> <span class="token operator">*</span><span class="token operator">*</span>迪米特法则<span class="token operator">*</span><span class="token operator">*</span>
<span class="token operator">></span> <span class="token number">7.</span> 合成复用原则



### <span class="token number">1.</span>单一职责原则

单个接口或类不应该有多个职责，应尽可能的划分职责，通过组合的方式，完成更复杂的业务

<span class="token operator">-</span> 降低类的复杂度

<span class="token operator">-</span> 让一个类只做一类事，一个方法做一件事



### <span class="token number">3.</span>接口隔离原则

<span class="token operator">-</span> 一个接口不要包含过多的职责，应合理划分，跟单一职责原则相辅相成

<span class="token operator">-</span> 每个接口中不存在子类用不到却必须实现的方法，如果不然，就要将接口拆分。

  <span class="token operator">-</span> 使用多个隔离的接口，比使用单个接口（多个接口方法集合到一个的接口）要好。

<span class="token operator">-</span> 客户端不应该依赖它不需要的接口，即<span class="token operator">*</span><span class="token operator">*</span>一个类对另一个类的依赖应该建立在最小的接口上<span class="token operator">*</span><span class="token operator">*</span>。
  <span class="token operator">-</span> 一个完整的接口内包含许多方法，将类需要使用的方法以及变量提取到一个最新的接口，即为最小接口

  

  ```java
  <span class="token comment">//需求：</span>
   <span class="token comment">//*  假设A需要用到接口1中getMethod01(),getMethod02()和接口2中的getMethod04()</span>
   <span class="token operator">*</span>
  
  <span class="token comment">//将接口1，接口2中需要的方法聚合到接口3中</span>
  <span class="token keyword">interface</span> interface3<span class="token punctuation">&#123;</span>
  
      <span class="token keyword">void</span> <span class="token function">getMethod01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">void</span> <span class="token function">getMethod02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">void</span> <span class="token function">getMethod04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> interface3<span class="token punctuation">&#123;</span>
  
  
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getMethod01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  
      <span class="token punctuation">&#125;</span>
  
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getMethod02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  
      <span class="token punctuation">&#125;</span>
  
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getMethod04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  
      <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">场景：

<span class="token operator">-</span> 动物，鸟，人   人和鸟都会吃，人会走路，鸟会飞，
<span class="token operator">-</span> 应该把走路和飞这两个行为抽象成接口，通过组合的方式让人拥有走路的行为，让鸟拥有分行的行为。

<span class="token operator">-</span> 再仔细划分，人有多个走路姿势，鸟有多个飞行方式，可以分别继承走路和飞的抽象行为扩展其具体的行为。
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="依赖倒转原则"><a href="#依赖倒转原则" class="headerlink" title="依赖倒转原则"></a>依赖倒转原则</h3><ul>
<li>高层模块不应该依赖于底层模块，二者都应该依赖其抽象</li>
<li>面向接口编程，依赖于抽象而不依赖于具体。写代码时用到具体类时，不与具体类交互，而与具体类的上层接口交互。</li>
<li>多态思维</li>
<li>依赖倒转原则的中心思想是<strong>面向接口</strong></li>
</ul>
<h3 id="里氏替换原则"><a href="#里氏替换原则" class="headerlink" title="里氏替换原则"></a>里氏替换原则</h3><ul>
<li>都可以替换为其子类。从而可以实现子类间的动态切换。换句话说就是要有面向接口的编程思维。结合“开闭原则”</li>
<li>当A类想要使用B类的方法时，少使用继承的方式，多使用聚合或者组合。<ul>
<li>因为使用继承，父类所有方法对于子类来说都是透明的，当子类和父类拥有相同方法时会构成重写，这样会造成数据的错乱</li>
</ul>
</li>
<li>子类对父类的方法尽量不要重写和重载</li>
</ul>
<h4 id="聚合与组合区别"><a href="#聚合与组合区别" class="headerlink" title="聚合与组合区别"></a>聚合与组合区别</h4><ul>
<li><p>组合是整体与部分的关系, 并且部分不可以离开整体而单独存在。  组合在随着类的创建而创建（构造方法里）</p>
</li>
<li><p>聚合是整体与部分的关系, 并且部分可以离开整体而单独存在。聚合等外界传入方法</p>
</li>
<li></li>
<li><p><strong>组合是在创建一个类时，创建一个对象</strong></p>
</li>
<li><p><strong>聚合是不会立即创建对象，而是等着外界传入一个对象给它,使用set方法或者使用构造的形式传入</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Hand</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> <span class="token class-name">Computer</span><span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
组合<span class="token number">1</span>：<span class="token class-name">A</span>类的构造方法里创建<span class="token class-name">B</span>类的对象，随着<span class="token class-name">A</span>类创建。随着<span class="token class-name">A</span>类消亡
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span>
<span class="token keyword">private</span> <span class="token class-name">Hand</span> hand<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
hand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

组合<span class="token number">2</span>：
  <span class="token keyword">private</span> interface2 interface2<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



聚合：使用set方法传入具体对象
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span>
<span class="token keyword">private</span> <span class="token class-name">Computer</span> computer<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token function">setComputer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
computer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Computer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a><strong>开闭原则</strong></h3><ul>
<li>用抽象构建架构，用实现扩展细节</li>
<li>在程序需要进行拓展的时候，不能去修改原有的代码，而是要扩展原有代码，实现一个热插拔的效果。所以一句话概括就是：为了使程序的扩展性好，易于维护和升级。</li>
</ul>
<h3 id="迪米特法则"><a href="#迪米特法则" class="headerlink" title="迪米特法则"></a><strong>迪米特法则</strong></h3><p>最少知道原则，一个对象尽量让其它对象保持最少的了解</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">典型场景：我点外卖，我只关心外卖员，不关系具体的店。我的类中只依赖外卖员，不会依赖具体的店。是不是静态代理。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>只与直接的朋友通信。</p>
<p>类之间只要有耦合关系，就叫朋友关系。</p>
<p>耦合分为依赖、关联、聚合、组合等。</p>
<p>我们称出现为成员变量、方法参数、方法返回值中的类为直接朋友。</p>
<p>局部变量、临时变量则不是直接的朋友。</p>
<p>我们要求陌生的类不要作为局部变量出现在类中。</p>
</blockquote>
<h3 id="合成复用模式"><a href="#合成复用模式" class="headerlink" title="合成复用模式"></a>合成复用模式</h3><p>多用组合，少用继承</p>
<h2 id="设计模式类型"><a href="#设计模式类型" class="headerlink" title="设计模式类型"></a>设计模式类型</h2><p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210510104341.png" alt="设计模式类型"></p>
<h3 id="单例模式-！！（面试重点）"><a href="#单例模式-！！（面试重点）" class="headerlink" title="单例模式 ！！（面试重点）"></a>单例模式 ！！（面试重点）</h3><ul>
<li>类的单例模式，就是采取一定的方法保证在整个软件的设计系统中，对某个类只能存在一个对象实例，并且该类只提供一个取得其对象实例的方法（静态方法）</li>
</ul>
<h4 id="单例模式作用-！！！"><a href="#单例模式作用-！！！" class="headerlink" title="单例模式作用 ！！！"></a>单例模式作用 ！！！</h4><ul>
<li><p>以后在做企业级项目的时候，针对于某一类，可能很多地方都需要获取他的实例，这样的话就需要使用new关键字，每次使用new关键字都会在堆内存中开辟空间。</p>
<p>这样的话，需要用到几次实例，就要开辟几次空间，会造成系统资源的损耗，从而降低了程序的执行效率！</p>
<p><strong>我们可以把该类设计出单例模式，在整个项目中获取的是该类唯一的内存地址</strong>，解决了资源，提升了效率！</p>
</li>
</ul>
<h4 id="单例模式两种方式"><a href="#单例模式两种方式" class="headerlink" title="单例模式两种方式"></a>单例模式两种方式</h4><h5 id="饿汉式"><a href="#饿汉式" class="headerlink" title="饿汉式"></a>饿汉式</h5><ul>
<li>直接实例化对象</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//方法1，直接new对象 </span>
<span class="token comment">//1.构造方法私有化，不希望在外界可以实例化对象</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonTest01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>

    <span class="token comment">//2.1 方法1.在本类中实例化该类的实例</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">SingletonTest01</span> singletonTest01 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonTest01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//3.提供静态方法，获取当前类的实例</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonTest01</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token keyword">return</span> singletonTest01<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


<span class="token comment">//方法2.将对象存放到静态代码块中</span>
<span class="token comment">//1.构造方法私有化，不希望在外界可以实例化对象</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonTest02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>

    <span class="token comment">//2.在本类中实例化该类的实例</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">SingletonTest02</span> singletonTest02<span class="token punctuation">;</span>

    <span class="token comment">//将new对象放在静态代码块中</span>
    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>
        singletonTest02 <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">SingletonTest02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//3.提供静态方法，获取当前类的实例</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SingletonTest02</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token keyword">return</span> singletonTest02<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h5 id="懒汉式"><a href="#懒汉式" class="headerlink" title="懒汉式"></a>懒汉式</h5><ul>
<li><p>不会直接实例化对象，而是先判断引用是否为空。</p>
</li>
<li><p>懒汉式线程安全问题：</p>
<ul>
<li><p>解决方按：</p>
<ul>
<li><p> 1.直接在方法上加锁，这样的话会解决线程安全问题，但是没有解决效率问题</p>
<p>   因为在实例已经存在的情况下，多线程可以并发的去获取实例，不需要排队</p>
<p>   所以这种方案不是最佳解决方案</p>
</li>
<li><p> 2.使用同步代码块加<strong>双重判断</strong>，既解决了线程安全问题，又解决了同步代码块问题</p>
</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> 
<span class="token comment">//双检锁/双重校验锁方式</span>

<span class="token comment">//1.构造方法私有化，不希望在外界可以实例化对象</span>
    <span class="token keyword">private</span> <span class="token class-name">SingletonTest03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

    <span class="token punctuation">&#125;</span>

    <span class="token comment">//2.在本类中聚合本类的引用</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span>  <span class="token class-name">SingletonTest03</span> singletonTest03<span class="token punctuation">;</span>


    <span class="token comment">//3.提供静态方法，获取当前类的实例</span>
    <span class="token comment">//直接在方法上加锁，这样的话会解决线程安全问题，但是没有解决效率问题</span>
    <span class="token keyword">public</span>  <span class="token keyword">static</span> <span class="token class-name">SingletonTest03</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token comment">//判断当前实例是否为空</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>singletonTest03 <span class="token operator">*</span><span class="token operator">*</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

            <span class="token comment">//由于是静态方法，共享对象应该写类对象</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">SingletonTest03</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

                <span class="token comment">//因为第一个判断语句时如果已经有多个线程并发，在锁中，让一个线程先创建实例后，另外一个线程检测到实例不为空，则不用再创建实例了</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>singletonTest03 <span class="token operator">*</span><span class="token operator">*</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    singletonTest03 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingletonTest03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">&#125;</span>

            <span class="token punctuation">&#125;</span>


        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> singletonTest03<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="代理模式-Proxy-（面试重点）"><a href="#代理模式-Proxy-（面试重点）" class="headerlink" title="代理模式(Proxy)  !! （面试重点）"></a>代理模式(Proxy)  !! （面试重点）</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><ul>
<li><p>代理模式：由于某些原因需要给某对象提供一个代理以控制对该对象的访问。这时，访问对象不适合或者不能直接引用目标对象，代理对象作为访问对象和目标对象之间的中介。</p>
<blockquote>
<p>​               逻辑发起点 （访问对象）、代理对象、被代理对象（目标对象）</p>
<p>可以看做  租客 –&gt; 中介 –&gt; 房东</p>
<p>​    </p>
</blockquote>
</li>
</ul>
<h4 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h4><ul>
<li>优点：<ul>
<li>代理模式在客户端和目标对象之间起到一个中介作用和保护目标对象的作用</li>
<li>代理对象可以扩展目标对象的功能</li>
<li>代理模式能将客户端与目标对象分类 ，在一定程度上降低了系统的耦合度，增加了程序的可扩展性</li>
</ul>
</li>
</ul>
<ul>
<li><p>缺点：</p>
<ul>
<li><p>代理模式会造成系统设计中类的数量增加</p>
</li>
<li><p>在客户端和目标对象之间增加一个代理对象，会造成请求处理速度变慢</p>
</li>
<li><p>增加了系统的复杂度</p>
</li>
</ul>
<blockquote>
<p>使用动态代理方式可以解决以上缺点</p>
</blockquote>
</li>
</ul>
<h4 id="使用范围："><a href="#使用范围：" class="headerlink" title="使用范围："></a>使用范围：</h4><p>​    要访问的远程对象比较大（如视频或大图像等），其下载要花很多时间。还有因为安全原因需要屏蔽客户端直接访问真实对象，如某单位的内部数据库等</p>
<h4 id="代理模式作用"><a href="#代理模式作用" class="headerlink" title="代理模式作用"></a>代理模式作用</h4><ul>
<li><p>对于一些可重复利用的组件，可以把这些组件通过代理模式完成对核心模块的增强！！即添加功能</p>
<blockquote>
<p>以后学习的spring框架，其中的springAop底层就是封装了代理模式（动态代理）</p>
</blockquote>
</li>
</ul>
<h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4><ul>
<li><p>远程代理  用于隐藏目标对象存在于不同地址空间的事实，方便客户端访问。</p>
<blockquote>
<p>例如用户申请某些网盘空间时，会在用户的文件系统中建立一个虚拟的硬盘，用户访问虚拟硬盘时实际访问的是往</p>
</blockquote>
</li>
</ul>
<h4 id="代理模式形式"><a href="#代理模式形式" class="headerlink" title="代理模式形式"></a>代理模式形式</h4><h5 id="选择代理模式"><a href="#选择代理模式" class="headerlink" title="选择代理模式"></a>选择代理模式</h5><p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210511141033.png" alt="选择代理模式"></p>
<h5 id="静态代理"><a href="#静态代理" class="headerlink" title="静态代理"></a>静态代理</h5><ul>
<li>静态代理在使用时,需要定义接口或者父类,被代理对象与代理对象一起实现相同的接口或者是继承相同父类</li>
</ul>
<ul>
<li>优点:<ul>
<li>在不修改日标对象的功能前提下，能通过代理对象对目标功能扩展</li>
</ul>
</li>
<li>缺点:<ul>
<li>因为代理对象需要与目标对象实现一样的接口,所以会有很多代理类一旦接口增加方法,目标对象与代理对象都要维护</li>
</ul>
</li>
</ul>
<ul>
<li><p>逻辑</p>
<blockquote>
<p>1.创建代理对象 和被代理对象（目标对象）的共同接口，实现相同的方法</p>
<p>2.在代理对象中聚合共同接口的引用，使用多态获取被代理对象</p>
<p>3.逻辑发起点可以与代理对象进行交互，创建代理对象，在代理对象中实现方法</p>
</blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//代理对象</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxyDao</span> <span class="token keyword">implements</span> <span class="token class-name">ProxyInterface</span><span class="token punctuation">&#123;</span>

    <span class="token comment">/**
    *代理对象可以直接和被代理对象联系，
    *但代理对象可能有多个被代理对象，即一个中介可能认识多个房东，
    *聚合接口的引用
    *要想获得房东对象，可以使用多态的方法*/</span>
    <span class="token keyword">private</span> <span class="token class-name">ProxyInterface</span> proxyInterface<span class="token punctuation">;</span>

    <span class="token comment">//从外界通过多态的方式传入房东对象</span>


    <span class="token keyword">public</span> <span class="token class-name">ProxyDao</span><span class="token punctuation">(</span><span class="token class-name">ProxyInterface</span> proxyInterface<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>proxyInterface <span class="token operator">=</span> proxyInterface<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token comment">//调用房东的找房方法  虽然使用接口，但实际上代表目标类的逻辑</span>
        proxyInterface<span class="token punctuation">.</span><span class="token function">findHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>

    <span class="token comment">//</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">//被代理对象</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxyDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">ProxyInterface</span> <span class="token punctuation">&#123;</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"找到房东，合同签署完毕！！！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//共同接口</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProxyInterface</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">/**
     * 找房的方法
     */</span>
    <span class="token keyword">void</span> <span class="token function">findHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">//逻辑发起点</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestApp</span> <span class="token punctuation">&#123;</span>


    <span class="token comment">/**
     * 代理模式的作用：
     *  在不修改被代理对象的情况下，完成对目标功能扩展
     * @param args
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token comment">//逻辑发起点是可以直接和代理对象交互的，创建代理对象</span>
        <span class="token comment">//使用多态，传入房东类的引用</span>
        <span class="token class-name">ProxyDao</span> proxyDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProxyDao</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ProxyDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//调用中介找房方法</span>
        proxyDao<span class="token punctuation">.</span><span class="token function">findHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h5 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a><strong>动态代理</strong></h5><ul>
<li>在代理对象中完成对目标对象的增强</li>
</ul>
<p>代理类是在程序运行时，通过反射机制在内存中创建出来，不是手动创建的，必须实现相同接口</p>
<ul>
<li>JDK代理<ul>
<li>也被称为接口代理，要求目标类和代理类实现相同的接口</li>
<li>代理类是在程序运行时，通过反射机制在内存中创建出来，不是手动创建出来的。</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxyTest02</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token comment">//需要使用目标对象</span>
        <span class="token class-name">ProxyDaoimpl1</span> proxyDaoimpl1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProxyDaoimpl1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//传入目标对象，用于创建代理对象</span>
        <span class="token class-name">CreatProxy</span> creatProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreatProxy</span><span class="token punctuation">(</span>proxyDaoimpl1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//创建代理对象 返回的数据类型实际上是目标对象，但是一个代理对象有多个目标对象，因此强转为接口父类</span>
        <span class="token class-name">ProxyInterface</span> proxy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ProxyInterface</span><span class="token punctuation">)</span>creatProxy<span class="token punctuation">.</span><span class="token function">getProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> ji <span class="token operator">=</span> proxy<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">"黄焖鸡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ji<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//创建接口</span>
<span class="token keyword">interface</span> <span class="token class-name">ProxyInterface</span><span class="token punctuation">&#123;</span>

    <span class="token class-name">String</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token class-name">String</span> food<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//创建目标对象</span>
<span class="token keyword">class</span> <span class="token class-name">ProxyDaoimpl1</span> <span class="token keyword">implements</span> <span class="token class-name">ProxyInterface</span><span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token class-name">String</span> food<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token keyword">return</span> <span class="token string">"吃的是"</span><span class="token operator">+</span>food<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//通过反射机制创建代理对象</span>
<span class="token keyword">class</span> <span class="token class-name">CreatProxy</span><span class="token punctuation">&#123;</span>

    <span class="token comment">//聚合目标类对象的引用，由于有多个类对象，所以聚合父类的引用</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> object<span class="token punctuation">;</span>

    <span class="token comment">//提供构造，传入目标对象实例</span>


    <span class="token keyword">public</span> <span class="token class-name">CreatProxy</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>object <span class="token operator">=</span> object<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//使用反射机制，获取反射机制创建出来的代理对象，在反射包下有Proxy类</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token comment">/**
         * ClassLoader loader, 目标对象的类加载器
         *Class&lt;?>[] interfaces, 目标对象的接口
         *InvocationHandler h  接口对象
         */</span>
        <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                object<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

                    <span class="token comment">/**
                     * 
                     * @param proxy  代理对象的字节码对象 
                     * @param method 代理对象的方法字节码对象  = 目标对象的
                     * @param args    代理对象方法所对应的参数 = 目标对象的
                     * @return
                     * @throws Throwable
                     */</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">&#123;</span>

              <span class="token comment">//由于代理对象与目标对象都是实现同一个接口的方法，方法相同</span>
              <span class="token comment">//invoke方法用来获取目标对象的方法  参数1：目标对象的对象，参数2：目标对象的参数</span>
                <span class="token class-name">Object</span> invoke <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>


                <span class="token keyword">return</span> invoke<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">return</span> object<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>​    <strong>总结</strong></p>
<blockquote>
<ol>
<li>创建目标对象与代理类对象共同接口</li>
<li>创建目标对象</li>
<li>利用反射机制创建代理类对象，传入目标对象的类加载器，目标对象的接口（多个）,扩展处理器(InvocationHandler类)</li>
</ol>
</blockquote>
<ul>
<li><p>Cglib代理</p>
<ul>
<li>子类代理，<strong>目标类可不实现接口</strong> ，创建的类为目标类子类</li>
<li>可以在内存动态的创建对象，而不需要实现接口</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">方法<span class="token number">1</span>  实现某一接口，此接口重写方法即为增强方法

<span class="token comment">/**
 * 用于创建代理类的类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CreateCglib</span> <span class="token keyword">implements</span> <span class="token class-name">MethodInterceptor</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">//被代理类的对象实例</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> object<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">CreateCglib</span><span class="token punctuation">(</span><span class="token class-name">Object</span> object<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>object <span class="token operator">=</span> object<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


    <span class="token comment">/**
     * 用于获取代理对象
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token comment">//创建cglib对象</span>
        <span class="token class-name">Enhancer</span> enhancer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Enhancer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//设置父类 （即目标类）</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setSuperclass</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//增强目标类的方法  传入当前类实例  设置回调函数</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setCallback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//创建代理对象的方法</span>
        <span class="token class-name">Object</span> obj <span class="token operator">=</span> enhancer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> obj<span class="token punctuation">;</span>


    <span class="token punctuation">&#125;</span>


    <span class="token comment">/**
     * 用于增强目标类的方法，作用和Jdk动态代理中invoke方法相同
     * @param o  代理类的字节码对象
     * @param method  代理类方法的字节码对象
     * @param objects  参数
     * @param methodProxy
     * @return
     * @throws Throwable
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objects<span class="token punctuation">,</span> <span class="token class-name">MethodProxy</span> methodProxy<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">&#123;</span>


        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"增强代码1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"增强代码1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"增强代码1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"增强代码1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"增强代码1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> invoke <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> objects<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"增强代码2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> invoke<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h3><h4 id="普通工厂模式："><a href="#普通工厂模式：" class="headerlink" title="普通工厂模式："></a>普通工厂模式：</h4><ul>
<li><p> 由一个工厂对象决定创建出哪一种产品类的对象</p>
</li>
<li><p>根据标识，new相应的对象</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PhoneFactory</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"mi"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

            <span class="token comment">//创建小米手机实例</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">mi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"huaWei"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

            <span class="token comment">//创建华为手机实例</span>

            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">huaWei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h4><ul>
<li><p>让所有对象实现某一接口，在工厂中使用方法方式创建相应对象</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PhoneFactory2</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">/**
     * 获取小米手机实例的方法
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Phone</span> <span class="token function">getMi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">mi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * 获取华为手机实例的方法
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Phone</span> <span class="token function">getHuawei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">huaWei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h4><ul>
<li><p>所有对象都实现一个接口，一个工厂实现一个接口，在接口中聚合对象接口的属性 ，通过反射机制创建对象</p>
</li>
<li><p>横向纵向使用的</p>
</li>
<li><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//制作手机的接口</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Factory</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">//制作手机的方法  接口中套一个接口，返回的是接口</span>
    <span class="token class-name">Phone</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token class-name">String</span> className<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PhoneFactory4</span> <span class="token keyword">implements</span> <span class="token class-name">Factory</span><span class="token punctuation">&#123;</span>


    <span class="token comment">/**
     * 生产手机的方法
     * @param className 传入的是全类名
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Phone</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token class-name">String</span> className<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>className <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>

                <span class="token comment">//获取字节码对象</span>
                <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token comment">//通过反射创建手机实例</span>
                <span class="token class-name">Object</span> obj <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Phone</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

                    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">Phone</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>


            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>


        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">//实际上抽象工厂模式就是创建一个工厂接口，传入的参数是全类名，返回值为产品的接口，传入产品的全类名后，通过反射创建对象，再将对象返回</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h1 id="Spring框架"><a href="#Spring框架" class="headerlink" title="Spring框架"></a>Spring框架</h1><h2 id="Spring简介"><a href="#Spring简介" class="headerlink" title="Spring简介"></a>Spring简介</h2><ul>
<li>Spring是容器，可以帮忙管理很多可重用的组件</li>
<li>最大的目的就是使JAVA EE开发更加容易</li>
<li>Spring  <strong>方便解耦，简化开发</strong></li>
<li>Spring容器中的实例默认是单例的，是可重用的组件，内存地址为一份</li>
</ul>
<h2 id="Spring优势"><a href="#Spring优势" class="headerlink" title="Spring优势"></a>Spring优势</h2><ul>
<li><strong>方便解耦，简化开发</strong></li>
<li><strong>AOP编程支持</strong><ul>
<li>AOP是面向切面编程，OOP是面向对象编程</li>
</ul>
</li>
<li></li>
</ul>
<h2 id="程序的耦合"><a href="#程序的耦合" class="headerlink" title="程序的耦合"></a>程序的耦合</h2><ul>
<li><p>耦合性(Coupling)，也叫耦合度,是对模块间关联程度的度量。</p>
<p>耦合的强弱取决于模块间接口的复杂性、调用模块的方式以及通过界面传送数据的多少。模块间的耦合度是指模块之间的依赖关系，包括控制关系、调用关系、数据传递关系。模块间联系越多，其耦合性越强，同时表明其独立性越差(降低耦合性,可以提高其独立性)。耦合性存在于各个领域，而非软件设计中独有的,但是我们只讨论软件工程中的耦合。</p>
</li>
<li><p>耦合度越高，关联度越大</p>
</li>
</ul>
<ul>
<li><p>总部是在苏州</p>
<ul>
<li><p>70人左右</p>
</li>
<li><p>产品项目研发</p>
<ul>
<li><ol>
<li>管理</li>
<li>技术<ol>
<li>工业</li>
<li>算法要求很高</li>
<li></li>
</ol>
</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="IOC控制反转"><a href="#IOC控制反转" class="headerlink" title="IOC控制反转"></a>IOC控制反转</h2><p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210513093509.png" alt="控制反转"></p>
<ul>
<li>IOC控制反转，<code>Inverse of Control</code></li>
<li>由代理人创建与管理对象，消费者通过代理人来获取对象</li>
<li></li>
</ul>
<h3 id="正转"><a href="#正转" class="headerlink" title="正转"></a>正转</h3><ul>
<li><p><strong>正转</strong> ： 在软件开发中，聚合在类中的实例，是由开发人员创建的，对象实例创建的控制权在开发人员手上</p>
<ul>
<li>坏处：使类与类之间产生了依赖关系，使得程序的执行效 率变低</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token class-name">TestDao</span> dao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestDaoimpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
</ul>
<ul>
<li>即聚合实例的引用时，使用构造方法或set方法，在类调用处传入对象</li>
</ul>
<h3 id="依赖注入（DI）"><a href="#依赖注入（DI）" class="headerlink" title="依赖注入（DI）"></a>依赖注入（DI）</h3><ul>
<li><p>在类中直接创建对象的方式改成给该引用指定构造方法，程序里不存在new关键字,这也被称为依赖注入，</p>
<p><strong>程序由主动地创建对象变成被动的接收对象，这是控制反转的一种思想</strong>，对象创建的控制权交给了客户端</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//聚合接口的引用</span>
<span class="token keyword">private</span> <span class="token class-name">TestDao</span> dao<span class="token punctuation">;</span>

    <span class="token comment">/*在类中直接创建对象的方式改成给该引用指定构造方法，
    程序里不存在new关键字,这也被称为依赖注入，
    程序由主动地创建对象变成被动的接收对象，这是控制反转的一种思想
    对象创建的控制权交给了客户端*/</span>
    <span class="token keyword">public</span> <span class="token class-name">TestServiceimpl</span><span class="token punctuation">(</span><span class="token class-name">TestDao</span> dao<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dao <span class="token operator">=</span> dao<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h2 id="Spring核心API"><a href="#Spring核心API" class="headerlink" title="Spring核心API"></a>Spring核心API</h2><p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210513110332.webp" alt="核心Api"></p>
<ul>
<li><code>BeanFactory</code>  </li>
</ul>
<h2 id="导入jar包"><a href="#导入jar包" class="headerlink" title="导入jar包"></a>导入jar包</h2><ul>
<li><p>要想使用spring框架，需要导入相应的jar包</p>
<blockquote>
<p>消息组件：</p>
<p>commons-logging-1.2.jar  </p>
<p>spring-expression-5.0.2.RELEASE.jar</p>
<p>核心容器：</p>
<p>spring-beans-5.0.2.RELEASE.jar  </p>
<p>spring-context-5.0.2.RELEASE.jar</p>
<p>spring-core-5.0.2.RELEASE.jar   容器jar包</p>
</blockquote>
</li>
</ul>
<h2 id="XML创建容器对象"><a href="#XML创建容器对象" class="headerlink" title="XML创建容器对象"></a>XML创建容器对象</h2><h3 id="1-xml文档设置"><a href="#1-xml文档设置" class="headerlink" title="1.xml文档设置"></a>1.xml文档设置</h3><ol>
<li>导入spring的约束，</li>
<li>使用<code>bean</code>标签，设置容器的全局标识，全类名</li>
</ol>
<pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>util</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/util<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!--xmlns 约束，包含了名称空间，spring框架需要使用
spring的名称空间--></span>



    <span class="token comment">&lt;!--
    把user类的实例装载到spring中：
    bean标签：声明一个组件
    id属性：该组件所对应的全局标识，全局标识一定是唯一的
    class属性：指的是该组件所对应的全类名

    spring底层会通过dom4j去解析xml文档，找到bean标签，在找到每个bean便签对应的class属性，
    获取class属性的属性值，根据反射创建实例，保存在spring的工厂中

--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.class1.pojo.User<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>

        <span class="token comment">&lt;!--
            根据实体的set方法进行注入。
            name填的是实体类中setId()方法中set后面的名称并且首字母小写，（如：getID(),getName(),就写id，name等）,
            和实体类中封装的id属性没有关系

            如果是基本数据类型和String，可以直接使用value属性进行赋值
            如果是引用数据类型（除了String），需要用ref属性引入别的实例(与之对应的组件)
            ref 写的是别的组件的全局标识

        --></span>
        <span class="token comment">&lt;!-- &lt;property name="id" value="100">&lt;/property>
         &lt;property name="name" value="张三">&lt;/property>
         &lt;property name="password" value="123456">&lt;/property>
         &lt;property name="date" ref="date">&lt;/property>--></span>


        <span class="token comment">&lt;!--
            通过构造方法进行注入
            这边的name里面写的是实体类中的属性(如sname,id等属性参数)和上面的不一样
        --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>张三<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1234<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>data<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>


    <span class="token comment">&lt;!--创建dao实例--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.class1.dao.TestDaoimpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!--创建Service实例--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>service<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.class1.service.TestServiceimpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>servlet<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.class1.servlet.TestServlet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>service<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>testService<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!--声明一个日期组件--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.util.Date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span>


<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="Spring-底层"><a href="#Spring-底层" class="headerlink" title="Spring 底层"></a>Spring 底层</h4><ul>
<li>spring在底层会通过dom4j去解析xml文档，找到所有的bean标签，在找到每个bean标签对应的class属性，获取class属性的属性值，根据反射创建实例，保存在spring工厂中</li>
</ul>
<h4 id="对象的生命周期"><a href="#对象的生命周期" class="headerlink" title="对象的生命周期"></a>对象的生命周期</h4><p><code>scope</code>属性设置</p>
<ul>
<li>如果对象是单例，那核心容器在加载的时候，对象就会创建，核心容器关闭的时候（调用close方法），对象就会销毁</li>
<li>如果对象是多例，什么时候获取对象(getBean方法)，容器什么时候才会创建，对象的销毁需要由垃圾回收机制回收，即与容器无关</li>
</ul>
<h3 id="2-创建容器对象"><a href="#2-创建容器对象" class="headerlink" title="2.创建容器对象"></a>2.创建容器对象</h3><ol>
<li>Java文件中创建<code>ClassPathXmlApplicationContext</code>对象</li>
<li>使用<code>getBean(id)</code>方法在容器中获取实例</li>
</ol>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

        <span class="token comment">//基于xml的方式创建核心容器对象</span>
        <span class="token class-name">ClassPathXmlApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"xml/beans"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//在容器中获取实例</span>
        <span class="token class-name">Object</span> obj <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  
        <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

            <span class="token class-name">User</span> user1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>


    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="接口实现类"><a href="#接口实现类" class="headerlink" title="接口实现类"></a>接口实现类</h2><p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210513150805.png" alt="image-20210513150802786"></p>
<h2 id="基于注解的IOC配置"><a href="#基于注解的IOC配置" class="headerlink" title="基于注解的IOC配置"></a>基于注解的IOC配置</h2><h3 id="注解种类"><a href="#注解种类" class="headerlink" title="注解种类"></a>注解种类</h3><h4 id="用于创建对象"><a href="#用于创建对象" class="headerlink" title="用于创建对象"></a>用于创建对象</h4><p>相当于：<code>&lt;bean id=&quot;&quot; class=&quot;&quot;&gt;</code></p>
<ul>
<li><p><strong>@Component</strong>  :（一般用于实体类中）</p>
<ul>
<li><strong>配置管理的资源</strong></li>
<li>把资源让 spring 来管理。相当于在 xml 中配置一个 bean。</li>
<li><strong>将类交由容器托管,在其他类中可使用Autowired对其作属性获取</strong></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"person"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"无参数构造方法!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p><strong>@Controller：一般用于表现层的注解。</strong></p>
</li>
<li><p><strong>@Service：一般用于业务层的注解。</strong></p>
</li>
<li><p><strong>@Repository：一般用于持久层的注解。</strong></p>
<h4 id="用于注入数据"><a href="#用于注入数据" class="headerlink" title="用于注入数据"></a>用于注入数据</h4><p>相当于 </p>
<p><code>&lt;property name=&quot;&quot; ref=&quot;&quot;&gt;  </code></p>
<p><code>&lt;property name=&quot;&quot; value=&quot;&quot;&gt;</code></p>
</li>
<li><p>@Autowired（根据类型注入）</p>
<ul>
<li><p>自动按照类型注入。当使用注解注入属性时，set 方法可以省略。</p>
<p>它只能注入其他 bean 类型。</p>
<p>当有多个类型匹配时，使用要注入的对象变量名称作为 bean 的 id，在 spring 容器查找，找到了也可以注入成功。找不到就报错。</p>
</li>
</ul>
</li>
<li><p>@Qualifier（不能单独使用） 根据名称注入</p>
<ul>
<li>如果匹配多个类型一致的对象，将无法选择具体注入哪一个对象<br>使用@Qualifier()注解告诉spring容器自动装配哪个名称的对象。</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> <span class="token comment">//根据类型注入</span>
    <span class="token annotation punctuation">@Autowired</span> 
<span class="token comment">//按名称注入，不能单独使用</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"accountServiceImpl"</span><span class="token punctuation">)</span>  <span class="token comment">//配合Autowired使用</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>@Resource（根据id注入的）</p>
<ul>
<li>直接按照 Bean 的 id 注入。它也只能注入其他 bean 类型。</li>
<li><code>@Resource(“name”) ** @Autowired + @Qualifier(“name”)</code></li>
</ul>
</li>
<li><p>@Value（用于注入基本数据类型和String类型）</p>
</li>
<li><p><strong>@Scope</strong></p>
<ul>
<li><strong>指定 bean 的作用范围。</strong></li>
</ul>
</li>
<li><p>@PostConstruct用于指定初始化的方法</p>
</li>
<li><p>@PreDestroy用于指定销毁的方法</p>
</li>
</ul>
<h3 id="创建-spring-的-xml-配置文件并开启对注解的支持"><a href="#创建-spring-的-xml-配置文件并开启对注解的支持" class="headerlink" title="创建 spring 的 xml 配置文件并开启对注解的支持"></a>创建 spring 的 xml 配置文件并开启对注解的支持</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">></span>
<span class="token operator">&lt;</span>beans xmlns<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
       xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       xmlns<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/context"</span>
       xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span>"http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans
        http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans<span class="token operator">/</span>spring<span class="token operator">-</span>beans<span class="token punctuation">.</span>xsd
        http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>context
        http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>context<span class="token operator">/</span>spring<span class="token operator">-</span>context<span class="token punctuation">.</span>xsd"<span class="token operator">></span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>
        开启spring对注解的支持<span class="token operator">:</span>

        首先spring会找到component<span class="token operator">-</span>scan标签，确定已经开启包扫描
        然后去扫描base<span class="token operator">-</span><span class="token keyword">package</span>属性指定的包，扫描的过程中，spring会
        一一过滤每一个组件，看一下这些组件有没有spring提供的注解，如果有
        会通过反射创建该组件的实例，然后装载进核心容器
    <span class="token operator">--</span><span class="token operator">></span>
   <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&lt;</span>context<span class="token operator">:</span>component<span class="token operator">-</span>scan base<span class="token operator">-</span><span class="token keyword">package</span><span class="token operator">=</span><span class="token string">"com.ygkj"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>context<span class="token operator">:</span>component<span class="token operator">-</span>scan<span class="token operator">></span><span class="token operator">--</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>context<span class="token operator">:</span>component<span class="token operator">-</span>scan base<span class="token operator">-</span><span class="token keyword">package</span><span class="token operator">=</span><span class="token string">"com.ygkj"</span><span class="token operator">/</span><span class="token operator">></span>


<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210514093305.png" alt="配置比较"></p>
<h2 id="基于注解创建核心容器对象"><a href="#基于注解创建核心容器对象" class="headerlink" title="基于注解创建核心容器对象"></a>基于注解创建核心容器对象</h2><h3 id="新注解"><a href="#新注解" class="headerlink" title="新注解"></a>新注解</h3><table>
<thead>
<tr>
<th>注解</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>@Configuration</td>
<td>用来声明一个类是spring的核心配置类</td>
</tr>
<tr>
<td>@Bean</td>
<td>会将修饰方法所对应的返回值装在到spring核心容器中</td>
</tr>
<tr>
<td>@ComponentScan(“com.wufan”)</td>
<td>开启扫描包</td>
</tr>
<tr>
<td>@Import(JDBCConfig.class)</td>
<td>用于导入其他核心配置类  ，括号内的可以视为子类</td>
</tr>
<tr>
<td>@PropertySource(“classpath:jdbc”)</td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typoraNew/20210514144400.png" alt="新注解"></p>
<h2 id="模拟底层解耦"><a href="#模拟底层解耦" class="headerlink" title="模拟底层解耦"></a>模拟底层解耦</h2><p><strong>模拟SPring Ioc基于注解底层解耦过程：</strong></p>
<ul>
<li>在xml中开启包扫描，Spring会去扫描指定包下面的组件</li>
<li>通过反射机制去过滤组件上是否有spring提供的注解(Controller,Service..)</li>
<li>如果有注解，Spring会通过反射机制创建实例，保存到容器中,然后Spring会根据反射机制检查该类中是否有属性需要注入（也就是属性上是否有Spring提供的注解）</li>
<li>如果有注解，Spring会根据反射机制进行注入</li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>吴凡
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://w1394847159.github.io/2021/04/28/ying-ge/java-jin-jie/" title="java进阶总结">https://w1394847159.github.io/2021/04/28/ying-ge/java-jin-jie/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


<!--设置文章结束标志-->
<div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-check"></i>感谢您的阅读-------------</div>
    
</div>

  
</div>
      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"><i class="fa fa-tag"></i> java</a>
              <a href="/tags/java%E8%BF%9B%E9%98%B6/" rel="tag"><i class="fa fa-tag"></i> java进阶</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/04/13/ying-ge/day9/" rel="prev" title="day9_JDBC+事务">
      <i class="fa fa-chevron-left"></i> day9_JDBC+事务
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/05/22/ying-ge/java-jin-jie/spring/" rel="next" title="Spring框架">
      Spring框架 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%91%98%E8%A6%81"><span class="nav-number">1.</span> <span class="nav-text">摘要</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IO%E6%B5%81"><span class="nav-number"></span> <span class="nav-text">IO流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">1.</span> <span class="nav-text">流的分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E7%9A%84%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-number">1.1.</span> <span class="nav-text">流的抽象类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%93%E5%B1%9E%E6%B5%81"><span class="nav-number">1.2.</span> <span class="nav-text">文件专属流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81"><span class="nav-number">1.3.</span> <span class="nav-text">缓冲流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="nav-number">1.4.</span> <span class="nav-text">数据流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E4%B8%93%E5%B1%9E-%E9%87%8D%E8%A6%81"><span class="nav-number">1.5.</span> <span class="nav-text">对象专属(重要)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8"><span class="nav-number">2.</span> <span class="nav-text">字节流对象使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="nav-number">2.1.</span> <span class="nav-text">创建流对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="nav-number">2.2.</span> <span class="nav-text">读取数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%951%EF%BC%9A%E9%81%8D%E5%8E%86"><span class="nav-number">2.2.1.</span> <span class="nav-text">方法1：遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%952%EF%BC%9A%E5%AD%97%E8%8A%82%E6%95%B0%E7%BB%84"><span class="nav-number">2.2.2.</span> <span class="nav-text">方法2：字节数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E6%9C%80%E7%BB%88%E7%89%88"><span class="nav-number">2.2.3.</span> <span class="nav-text">读取数据最终版</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E6%95%B0%E6%8D%AE"><span class="nav-number">2.3.</span> <span class="nav-text">输出数据</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%BE%93%E5%87%BA%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="nav-number">2.3.1.</span> <span class="nav-text">创建输出流对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E6%95%B0%E6%8D%AE%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F"><span class="nav-number">2.3.2.</span> <span class="nav-text">输出数据需要注意</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8"><span class="nav-number">3.</span> <span class="nav-text">字符流对象使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8"><span class="nav-number">4.</span> <span class="nav-text">缓冲流对象使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8"><span class="nav-number">5.</span> <span class="nav-text">数据流对象使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E6%B5%81%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8"><span class="nav-number">6.</span> <span class="nav-text">标准输出流对象使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0%E6%A1%88%E4%BE%8B"><span class="nav-number">6.1.</span> <span class="nav-text">日志打印案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E4%B8%93%E5%B1%9E%E6%B5%81"><span class="nav-number">7.</span> <span class="nav-text">对象专属流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">7.1.</span> <span class="nav-text">序列化和反序列化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96java%E5%AF%B9%E8%B1%A1-%E7%B1%BB"><span class="nav-number">7.2.</span> <span class="nav-text">序列化java对象(类)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.3.</span> <span class="nav-text">序列化单个对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%8D%95%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.4.</span> <span class="nav-text">反序列化单个对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.5.</span> <span class="nav-text">序列化多个对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%9A%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.6.</span> <span class="nav-text">反序列化多个对象</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">多线程（重要）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9C%A8jvm%E7%9A%84%E5%88%86%E5%B8%83"><span class="nav-number">2.</span> <span class="nav-text">多线程在jvm的分布</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B"><span class="nav-number">3.</span> <span class="nav-text">创建线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E5%AE%9E%E7%8E%B0Runnable%E6%8E%A5%E5%8F%A3-%E5%B8%B8%E7%94%A8"><span class="nav-number">3.1.</span> <span class="nav-text">方法一：实现Runnable接口(常用)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E7%BB%A7%E6%89%BFThread%E7%B1%BB"><span class="nav-number">3.2.</span> <span class="nav-text">方法二：继承Thread类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89%EF%BC%9AFutureTask"><span class="nav-number">3.3.</span> <span class="nav-text">方法三：FutureTask</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">4.</span> <span class="nav-text">线程生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%BB%BA%E7%8A%B6%E6%80%81"><span class="nav-number">4.1.</span> <span class="nav-text">新建状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%B1%E7%BB%AA%E7%8A%B6%E6%80%81"><span class="nav-number">4.2.</span> <span class="nav-text">就绪状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81"><span class="nav-number">4.3.</span> <span class="nav-text">运行状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BB%E5%A1%9E%E7%8A%B6%E6%80%81"><span class="nav-number">4.4.</span> <span class="nav-text">阻塞状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E4%BA%A1%E7%8A%B6%E6%80%81"><span class="nav-number">4.5.</span> <span class="nav-text">死亡状态</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">5.</span> <span class="nav-text">线程优先级</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E8%B0%83%E5%BA%A6%E6%A8%A1%E5%9E%8B"><span class="nav-number">6.</span> <span class="nav-text">线程调度模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%A2%E5%8D%A0%E5%BC%8F%E8%B0%83%E5%BA%A6%E6%A8%A1%E5%9E%8B"><span class="nav-number">6.1.</span> <span class="nav-text">抢占式调度模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9D%87%E5%88%86%E5%BC%8F%E8%B0%83%E5%BA%A6%E6%A8%A1%E5%9E%8B"><span class="nav-number">6.2.</span> <span class="nav-text">均分式调度模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#yield-%E4%B8%8E-sleep%E6%96%B9%E6%B3%95"><span class="nav-number">7.</span> <span class="nav-text">yield() 与 sleep方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#yield%E6%96%B9%E6%B3%95"><span class="nav-number">7.1.</span> <span class="nav-text">yield方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sleep%E6%96%B9%E6%B3%95"><span class="nav-number">7.2.</span> <span class="nav-text">sleep方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%EF%BC%88%E6%9C%80%E9%87%8D%E8%A6%81%EF%BC%89"><span class="nav-number">8.</span> <span class="nav-text">线程安全 （最重要）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%AD%98%E5%9C%A8%E4%B8%8D%E5%AE%89%E5%85%A8%E6%9D%A1%E4%BB%B6"><span class="nav-number">8.1.</span> <span class="nav-text">线程存在不安全条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5"><span class="nav-number">8.2.</span> <span class="nav-text">同步和异步</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5"><span class="nav-number">8.2.1.</span> <span class="nav-text">同步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5"><span class="nav-number">8.2.2.</span> <span class="nav-text">异步</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">8.3.</span> <span class="nav-text">线程同步关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%90%86"><span class="nav-number">8.3.1.</span> <span class="nav-text">原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%B3%95"><span class="nav-number">8.3.2.</span> <span class="nav-text">用法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="nav-number">8.3.2.1.</span> <span class="nav-text">同步代码块</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%AE%E9%A5%B0%E6%96%B9%E6%B3%95"><span class="nav-number">8.3.2.2.</span> <span class="nav-text">修饰方法</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"><span class="nav-number">9.</span> <span class="nav-text">多线程其他方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#join"><span class="nav-number">9.1.</span> <span class="nav-text">join()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#suspend"><span class="nav-number">9.2.</span> <span class="nav-text">suspend()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#resume"><span class="nav-number">9.3.</span> <span class="nav-text">resume()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stop"><span class="nav-number">9.4.</span> <span class="nav-text">stop()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#interrupt"><span class="nav-number">9.5.</span> <span class="nav-text">interrupt()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="nav-number">10.</span> <span class="nav-text">守护线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%AE%88%E6%8A%A4%E7%BA%BF%E7%A8%8B"><span class="nav-number">10.1.</span> <span class="nav-text">设置守护线程</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#notify-%E6%96%B9%E6%B3%95"><span class="nav-number">10.1.1.</span> <span class="nav-text">notify()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#notify-%E6%96%B9%E6%B3%95-1"><span class="nav-number">10.1.2.</span> <span class="nav-text">notify()方法</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6"><span class="nav-number"></span> <span class="nav-text">反射机制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8"><span class="nav-number">1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E4%B8%AD%E7%9A%84%E7%B1%BB"><span class="nav-number">2.</span> <span class="nav-text">反射机制中的类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84"><span class="nav-number">3.</span> <span class="nav-text">使用反射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.1.</span> <span class="nav-text">获取类对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7%EF%BC%8C%E5%80%BC%EF%BC%8C%E5%90%8D%E7%A7%B0"><span class="nav-number">3.2.</span> <span class="nav-text">获取类的属性，值，名称</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7"><span class="nav-number">3.3.</span> <span class="nav-text">获取属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">3.4.</span> <span class="nav-text">获取类的方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="nav-number">3.5.</span> <span class="nav-text">获取构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%80%92%E8%BD%AC%E5%8E%9F%E5%88%99"><span class="nav-number">3.6.</span> <span class="nav-text">依赖倒转原则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99"><span class="nav-number">3.7.</span> <span class="nav-text">里氏替换原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E4%B8%8E%E7%BB%84%E5%90%88%E5%8C%BA%E5%88%AB"><span class="nav-number">3.7.1.</span> <span class="nav-text">聚合与组合区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99"><span class="nav-number">3.8.</span> <span class="nav-text">开闭原则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99"><span class="nav-number">3.9.</span> <span class="nav-text">迪米特法则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.10.</span> <span class="nav-text">合成复用模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9E%8B"><span class="nav-number">4.</span> <span class="nav-text">设计模式类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F-%EF%BC%81%EF%BC%81%EF%BC%88%E9%9D%A2%E8%AF%95%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">4.1.</span> <span class="nav-text">单例模式 ！！（面试重点）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%BD%9C%E7%94%A8-%EF%BC%81%EF%BC%81%EF%BC%81"><span class="nav-number">4.1.1.</span> <span class="nav-text">单例模式作用 ！！！</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="nav-number">4.1.2.</span> <span class="nav-text">单例模式两种方式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%A5%BF%E6%B1%89%E5%BC%8F"><span class="nav-number">4.1.2.1.</span> <span class="nav-text">饿汉式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%87%92%E6%B1%89%E5%BC%8F"><span class="nav-number">4.1.2.2.</span> <span class="nav-text">懒汉式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F-Proxy-%EF%BC%88%E9%9D%A2%E8%AF%95%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">4.2.</span> <span class="nav-text">代理模式(Proxy)  !! （面试重点）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">4.2.1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-number">4.2.2.</span> <span class="nav-text">优缺点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E8%8C%83%E5%9B%B4%EF%BC%9A"><span class="nav-number">4.2.3.</span> <span class="nav-text">使用范围：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E4%BD%9C%E7%94%A8"><span class="nav-number">4.2.4.</span> <span class="nav-text">代理模式作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">4.2.5.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%BD%A2%E5%BC%8F"><span class="nav-number">4.2.6.</span> <span class="nav-text">代理模式形式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.2.6.1.</span> <span class="nav-text">选择代理模式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86"><span class="nav-number">4.2.6.2.</span> <span class="nav-text">静态代理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="nav-number">4.2.6.3.</span> <span class="nav-text">动态代理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.3.</span> <span class="nav-text">工厂模式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%EF%BC%9A"><span class="nav-number">4.3.1.</span> <span class="nav-text">普通工厂模式：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.3.2.</span> <span class="nav-text">工厂方法模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.3.3.</span> <span class="nav-text">抽象工厂模式</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring%E6%A1%86%E6%9E%B6"><span class="nav-number"></span> <span class="nav-text">Spring框架</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">Spring简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E4%BC%98%E5%8A%BF"><span class="nav-number">2.</span> <span class="nav-text">Spring优势</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%80%A6%E5%90%88"><span class="nav-number">3.</span> <span class="nav-text">程序的耦合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IOC%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC"><span class="nav-number">4.</span> <span class="nav-text">IOC控制反转</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A3%E8%BD%AC"><span class="nav-number">4.1.</span> <span class="nav-text">正转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%EF%BC%88DI%EF%BC%89"><span class="nav-number">4.2.</span> <span class="nav-text">依赖注入（DI）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E6%A0%B8%E5%BF%83API"><span class="nav-number">5.</span> <span class="nav-text">Spring核心API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5jar%E5%8C%85"><span class="nav-number">6.</span> <span class="nav-text">导入jar包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XML%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.</span> <span class="nav-text">XML创建容器对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-xml%E6%96%87%E6%A1%A3%E8%AE%BE%E7%BD%AE"><span class="nav-number">7.1.</span> <span class="nav-text">1.xml文档设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Spring-%E5%BA%95%E5%B1%82"><span class="nav-number">7.1.1.</span> <span class="nav-text">Spring 底层</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">7.1.2.</span> <span class="nav-text">对象的生命周期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.2.</span> <span class="nav-text">2.创建容器对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="nav-number">8.</span> <span class="nav-text">接口实现类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84IOC%E9%85%8D%E7%BD%AE"><span class="nav-number">9.</span> <span class="nav-text">基于注解的IOC配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E8%A7%A3%E7%A7%8D%E7%B1%BB"><span class="nav-number">9.1.</span> <span class="nav-text">注解种类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="nav-number">9.1.1.</span> <span class="nav-text">用于创建对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E4%BA%8E%E6%B3%A8%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">9.1.2.</span> <span class="nav-text">用于注入数据</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-spring-%E7%9A%84-xml-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%B9%B6%E5%BC%80%E5%90%AF%E5%AF%B9%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-number">9.2.</span> <span class="nav-text">创建 spring 的 xml 配置文件并开启对注解的支持</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E5%88%9B%E5%BB%BA%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8%E5%AF%B9%E8%B1%A1"><span class="nav-number">10.</span> <span class="nav-text">基于注解创建核心容器对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E6%B3%A8%E8%A7%A3"><span class="nav-number">10.1.</span> <span class="nav-text">新注解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%8B%9F%E5%BA%95%E5%B1%82%E8%A7%A3%E8%80%A6"><span class="nav-number">11.</span> <span class="nav-text">模拟底层解耦</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="吴凡"
      src="https://wgmpwy.oss-cn-beijing.aliyuncs.com/typora/202108/20210802114612.png">
  <p class="site-author-name" itemprop="name">吴凡</p>
  <div class="site-description" itemprop="description">不要在二十岁的时候就去享受八十岁的安逸</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/w1394847159" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;w1394847159" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/1394847159@qq.com" title="E-Mail → 1394847159@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">黔ICP备2021002529号 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">吴凡</span>
</div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  <script defer src="/lib/three/three.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

   

  <script async src="/js/cursor/fireworks.js"></script>

</body>
</html>
